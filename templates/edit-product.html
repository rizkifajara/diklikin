{% extends 'layout.html' %} {% block body %} {% include 'includes/_navbar.html' %}

<!-- ------------ single product detail ---------------- -->
<div class="small-container-2 single-product">
  <div class="small-container">
    <div class="row row-3">
      <a href="/myProduct?productId={{products[0]}}"><img src="static/images/arrow-back.webp" width="20px" /></a>
    </div>
  </div>
  <div class="row">
    <div class="col-2">
      <div class="add-product-form">
        <form method="POST" action="/editProd" enctype="multipart/form-data">
          <div class="add-photo-product">
            <img src="{{products[5]}}" id="photo" />
            <input type="file" id="file" name="file" onchange="readURL(this);" />
            <label for="file" id="uploadBtn">Choose Photo</label>
          </div>
          <h2>Product Id</h2>
          <input type="text" name="productId" value="{{products[0]}}" readonly="readonly" />
          <h2>Category</h2>
          <input type="text" name="category" value="{{products[4]}}" />
          <h2>Product Name</h2>
          <input type="text" name="name" value="{{products[1]}}" />
          <h2>Price</h2>
          <input type="text" name="price" value="{{products[3]}}" />
          <h2>Stock</h2>
          <input type="number" name="stock" value="{{products[8]}}" />
          <h2>Description</h2>
          <textarea name="description">{{products[2]}}</textarea>
          <button type="submit" class="btn">Save</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  function readURL(input) {
    if (input.files && input.files[0]) {
      var reader = new FileReader();

      reader.onload = function (e) {
        $("#photo").attr("src", e.target.result);
      };

      reader.readAsDataURL(input.files[0]);
    }
  }
</script>
{% endblock %}
